(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[3],{301:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(30),r=a(31),o=a(33),l=a(32),s=a(0),i=a.n(s),c=a(15),u=a(10),p=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var t=function(t){Object(o.a)(s,t);var a=Object(l.a)(s);function s(){return Object(n.a)(this,s),a.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(u.a,{to:"/login"})}}]),s}(i.a.Component);return Object(c.b)(p)(t)}},306:function(e,t,a){e.exports={item:"Post_item__1d730",image_wrapper:"Post_image_wrapper__rdofy",likes:"Post_likes__25JL8"}},307:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAATCAYAAACdkl3yAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF6SURBVHgB1ZTdUcJAEMd3j/DhGx1ICZSgFcBIfMCP0VRAqEBSAVhBZCDygkPoACtQOqAE3pxJcrveJZOAgAg+6f8lyd1/f9nb7AbgrwnXHy69oAogqsxUBsb38W1+tr5vDsIzFFjR92EQznzrZLEFMp+5C0T3jNRPVkRNxAHBOUAJjCK7al/xeZ7uIwp/fIXtDGSO+AGJq2GAlm/hMoMPAxsx1yJtZPk4vin0vp6AJkxyrjLviHiFqA4QOesQLR1IRFNlmG5CEkUOCnG3OrsnGX6pNDbJiGF54fEpHKm6yxVVm0UGUl+pLyiy4EjlC1BTl1kGkobRAyFadfejcihEZ0NAdigCJwP5TVwAS8coFCeHgowCT5Co7zdXvZSpMYyeGp50f4I0RtLV3r0m06O3fTAN0Z7Nddxp1m9D1YKBaKe9pWpSzpWoC5JRhjl7s+d2guLMBmFHN1s2IqomDPL15Tpv7/J/C4ph6YgoF9L2iByl+ogryV/hv+kTwo+382QrGqQAAAAASUVORK5CYII="},308:function(e,t,a){e.exports={myPosts_wrapper:"MyPosts_myPosts_wrapper__2gcsc",posts:"MyPosts_posts__3tZ1c"}},309:function(e,t,a){e.exports={profileTop_wrapper:"ProfileInfo_profileTop_wrapper__1QlGj",profile_img:"ProfileInfo_profile_img__vEU0l",profile_background:"ProfileInfo_profile_background__39eI4",editButtonImage:"ProfileInfo_editButtonImage__RibDe",edit_btn:"ProfileInfo_edit_btn__1eOGe",status_wrapper:"ProfileInfo_status_wrapper__1Wk6M",profileData:"ProfileInfo_profileData__18agI",profileData_editbtn:"ProfileInfo_profileData_editbtn__3ne22",profileInfo_wrapper:"ProfileInfo_profileInfo_wrapper__3Hoyx",profile_userabout:"ProfileInfo_profile_userabout__2QlUY",user_contacts:"ProfileInfo_user_contacts__2ArPO",contact:"ProfileInfo_contact__1N3gp"}},310:function(e,t,a){e.exports={formStyle:"ProfileDataForm_formStyle__1EsuH",formAbout:"ProfileDataForm_formAbout__BonJK",nameInput:"ProfileDataForm_nameInput__270eE",aboutmeInput:"ProfileDataForm_aboutmeInput__1P8DH",formContacts_wrapper:"ProfileDataForm_formContacts_wrapper__1ggro",socialTitle:"ProfileDataForm_socialTitle__2j5ae"}},311:function(e,t,a){e.exports=a.p+"static/media/profile-bg.12dbfea2.jpg"},312:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAYAAADwMZRfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC+SURBVHgB1ZKxDcIwEEW/gYbOI1DSETaADbIBbAJMAhsgJkg2iAskMA0jkA5RwPFtEcl0hyIhOMk6+5/1dGd/4P/iIAMcpeASeFmjEtuUOmqAQcHbDkNjqFj0MddDGoBBiQdy7CWjWkO4PhjhzLyM5xMBXi5RS8bRA0J4WVCrYq0VoHUH3wGECID00ZSAXtLF5LXb0QNbAkp+Y44rphibWgcRZPSCY3Z0z4zZagDvkC5GERTsd8cKN2w0gN+KJ/qPhqaFEgAOAAAAAElFTkSuQmCC"},313:function(e,t,a){e.exports={edit_btn:"EditButton_edit_btn__sPgEh"}},314:function(e,t,a){"use strict";a.r(t);var n=a(30),r=a(31),o=a(33),l=a(32),s=a(0),i=a.n(s),c=a(15),u=a(100),p=a(306),m=a.n(p),f=a(307),d=a.n(f),A=a(101),E=a.n(A),h=function(e){return i.a.createElement("div",{className:m.a.posts},i.a.createElement("div",{className:m.a.item},i.a.createElement("div",{className:m.a.image_wrapper},i.a.createElement("img",{src:e.photo?e.photo:E.a,alt:"img"})),i.a.createElement("div",null,e.message," ")),i.a.createElement("div",{className:m.a.likes},i.a.createElement("div",null,i.a.createElement("img",{src:d.a,alt:"like"})),i.a.createElement("span",null,e.likesCount)))},_=a(308),g=a.n(_),b=a(92),v=a(133),P=a(70),I=a(27),k=Object(P.a)(10),w=Object(v.a)({form:"ProfileAddNewPostForm"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",null,i.a.createElement(b.a,{component:I.b,name:"newPostText",placeholder:"Type your post",validate:[P.b,k]})),i.a.createElement("button",null,"Add post"))})),O=function(e){var t=e.posts.map((function(t,a){return i.a.createElement(h,{message:t.message,likesCount:t.likesCount,key:a,photo:e.profile.photos.small})}));return i.a.createElement("div",{className:g.a.myPosts_wrapper},i.a.createElement("h3",null,"My posts"),i.a.createElement("div",{className:g.a.posts},t),i.a.createElement(w,{onSubmit:function(t){e.addPost(t.newPostText)}}))},y=Object(c.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile}}),(function(e){return{addPost:function(t){e(Object(u.a)(t))}}}))(O),N=a(134),j=a(309),C=a.n(j),S=(a(148),a(42)),M=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return i.a.createElement("div",null,!this.state.editMode&&i.a.createElement("div",null,i.a.createElement("span",{onDoubleClick:this.activateEditMode,className:"hilightText"},this.props.status||"No status")),this.state.editMode&&i.a.createElement("div",null,i.a.createElement("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,defaultValue:this.props.status})))}}]),a}(i.a.Component),D=a(52),T=a.n(D),x=a(310),F=a.n(x),B=Object(v.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return i.a.createElement("form",{onSubmit:t,className:F.a.formStyle},i.a.createElement("div",null,i.a.createElement("button",null,"Save")),n&&i.a.createElement("div",{className:T.a.formsummaryError},n),i.a.createElement("ul",{className:F.a.formAbout},i.a.createElement("li",{className:F.a.nameInput},i.a.createElement("span",null,"Full name:")," ",Object(I.c)("Full name","fullName",I.a,[])),i.a.createElement("li",null,i.a.createElement("span",null,"Looking for a job:")," ",Object(I.c)("","lookingForAJob",I.a,[],{type:"checkbox"})),i.a.createElement("li",null,i.a.createElement("span",null,"My professional skils:")," ",Object(I.c)("My professional skils","lookingForAJobDescription",I.b,[])),i.a.createElement("li",{className:F.a.aboutmeInput},i.a.createElement("span",null,"About me:")," ",Object(I.c)("About me","aboutMe",I.b,[]))),i.a.createElement("ul",{className:F.a.formContacts_wrapper},Object.keys(a.contacts).map((function(e){return i.a.createElement("li",{key:e},i.a.createElement("span",{className:F.a.socialTitle},e,":")," ",i.a.createElement("span",null,Object(I.c)("","contacts."+e,I.a,[])))}))))})),U=a(311),R=a.n(U),J=a(312),G=a.n(J),Q=a(313),V=a.n(Q),Z=function(e){return i.a.createElement("div",null,i.a.createElement("div",{className:V.a.edit_btn,onClick:e.goToEditMode},i.a.createElement("img",{src:G.a,alt:"pen"})))},L=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return i.a.createElement("div",{className:C.a.profileData},a&&i.a.createElement("div",{className:C.a.profileData_editbtn},i.a.createElement(Z,{goToEditMode:n})),i.a.createElement("div",{className:C.a.profileInfo_wrapper},i.a.createElement("ul",{className:C.a.profile_userabout},i.a.createElement("li",null,i.a.createElement("span",null,"Full name:"),i.a.createElement("span",{className:"hilightText"},t.fullName)),i.a.createElement("li",null,i.a.createElement("span",null,"Looking for a job:"),i.a.createElement("span",{className:"hilightText"},t.lookingForAJob?"yes":"no")),t.lookingForAJob&&i.a.createElement("li",null,i.a.createElement("div",null,"My professional skils:"),i.a.createElement("div",{className:"hilightText"},t.lookingForAJobDescription)),i.a.createElement("li",null,i.a.createElement("div",null,"About me:"),i.a.createElement("div",{className:"hilightText"},t.aboutMe))),i.a.createElement("div",{className:C.a.user_contacts},Object.keys(t.contacts).map((function(e){return i.a.createElement(Y,{key:e,contactTitle:e,contactValue:t.contacts[e]})})))))},Y=function(e){var t=e.contactTitle,a=e.contactValue;return i.a.createElement("div",{className:C.a.contact},i.a.createElement("span",null,t),": ",i.a.createElement("span",{className:"hilightText"},a))},H=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.isOwner,o=e.savePhoto,l=e.saveProfile,c=Object(s.useState)(!1),u=Object(N.a)(c,2),p=u[0],m=u[1];if(!t)return i.a.createElement(S.a,null);return i.a.createElement("div",null,i.a.createElement("div",{className:C.a.profileTop_wrapper},i.a.createElement("div",{className:C.a.profile_background},i.a.createElement("img",{src:R.a,alt:"bg"})),i.a.createElement("div",{className:C.a.description_block},i.a.createElement("div",{className:C.a.profile_img},null===t.photos.large?i.a.createElement("img",{src:E.a,alt:"img"}):i.a.createElement("img",{src:t.photos.large,alt:"img"})),r&&i.a.createElement("div",{className:C.a.editButtonImage},i.a.createElement(Z,null),i.a.createElement("label",null,i.a.createElement("input",{type:"file",placeholder:"Change profile image",onChange:function(e){e.target.files.length&&o(e.target.files[0])}})))),i.a.createElement("div",{className:C.a.status_wrapper},i.a.createElement("div",null,"Status:"),i.a.createElement(M,{status:a,updateStatus:n})),p?i.a.createElement(B,{initialValues:t,profile:t,onSubmit:function(e){l(e).then((function(){m(!1)}))}}):i.a.createElement(L,{goToEditMode:function(){return m(!0)},profile:t,isOwner:r})))},X=function(e){return e.profile?i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(H,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),i.a.createElement(y,null))):i.a.createElement(S.a,null)},q=a(34),z=a(10),K=a(301),W=a(9),$=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;console.log(window.location.href),e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e),this.props.setUserImgInheader(this.props.authorizedUserId)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userID!==e.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(X,Object.assign({},this.props,{isOwner:this.props.match.params.userID===this.props.authorizedUserId||"http://localhost:3000/profile"===window.location.href,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})))}}]),a}(s.Component);t.default=Object(W.d)(Object(c.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:u.d,getStatus:u.c,updateStatus:u.g,savePhoto:u.e,saveProfile:u.f,setUserImgInheader:q.e}),z.f,K.a)($)}}]);
//# sourceMappingURL=3.7f531568.chunk.js.map